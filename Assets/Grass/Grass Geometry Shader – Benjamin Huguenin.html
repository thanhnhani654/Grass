<!DOCTYPE html>
<!-- saved from url=(0099)https://web.archive.org/web/20170825020212/http://ellenack.com:80/2016/11/05/grass-geometry-shader/ -->
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script async="" src="./Grass Geometry Shader – Benjamin Huguenin_files/analytics.js.tải xuống"></script><script src="./Grass Geometry Shader – Benjamin Huguenin_files/analytics.js(1).tải xuống" type="text/javascript"></script>
<script type="text/javascript">window.addEventListener('DOMContentLoaded',function(){var v=archive_analytics.values;v.service='wb';v.server_name='wwwb-app40.us.archive.org';v.server_ms=525;archive_analytics.send_pageview({});});</script><script type="text/javascript" src="./Grass Geometry Shader – Benjamin Huguenin_files/wbhack.js.tải xuống" charset="utf-8"></script>

<script type="text/javascript">
__wbhack.init('https://web.archive.org/web');
</script>
<link rel="stylesheet" type="text/css" href="./Grass Geometry Shader – Benjamin Huguenin_files/banner-styles.css">
<link rel="stylesheet" type="text/css" href="./Grass Geometry Shader – Benjamin Huguenin_files/iconochive.css">

<!-- End Wayback Rewrite JS Include -->
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">

<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="http://ellenack.com/xmlrpc.php">
<link rel="shortcut icon" href="https://web.archive.org/web/20170825020212im_/http://ellenack.com/wp-content/uploads/2016/01/favicon.png"><link rel="apple-touch-icon" href="https://web.archive.org/web/20170825020212im_/http://ellenack.com/wp-content/uploads/2016/01/favicon.png"><title>Grass Geometry Shader – Benjamin Huguenin</title>
<link rel="dns-prefetch" href="https://web.archive.org/web/20170825020212/http://s.w.org/">
<link rel="alternate" type="application/rss+xml" title="Benjamin Huguenin » Feed" href="https://web.archive.org/web/20170825020212/http://ellenack.com/feed/">
<link rel="alternate" type="application/rss+xml" title="Benjamin Huguenin » Comments Feed" href="https://web.archive.org/web/20170825020212/http://ellenack.com/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="Benjamin Huguenin » Grass Geometry Shader Comments Feed" href="https://web.archive.org/web/20170825020212/http://ellenack.com/2016/11/05/grass-geometry-shader/feed/">
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/web.archive.org\/web\/20170825020212\/https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/72x72\/","ext":".png","svgUrl":"https:\/\/web.archive.org\/web\/20170825020212\/https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/web.archive.org\/web\/20170825020212\/http:\/\/ellenack.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.7.5"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),!(j.toDataURL().length<3e3)&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,65039,8205,55356,57096),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,55356,57096),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55357,56425,55356,57341,8205,55357,56507),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55357,56425,55356,57341,55357,56507),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script><script src="./Grass Geometry Shader – Benjamin Huguenin_files/wp-emoji-release.min.js.tải xuống" type="text/javascript" defer=""></script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel="stylesheet" id="custom-progressbar-bootstrap-style-css" href="./Grass Geometry Shader – Benjamin Huguenin_files/custom.bootstrap.css" type="text/css" media="all">
<link rel="stylesheet" id="custom-progressbar-plugin-style-css" href="./Grass Geometry Shader – Benjamin Huguenin_files/custom-progressbar.css" type="text/css" media="all">
<link rel="stylesheet" id="tempera-fonts-css" href="./Grass Geometry Shader – Benjamin Huguenin_files/fontfaces.css" type="text/css" media="all">
<link rel="stylesheet" id="tempera-style-css" href="./Grass Geometry Shader – Benjamin Huguenin_files/style.css" type="text/css" media="all">
<script type="text/javascript" src="./Grass Geometry Shader – Benjamin Huguenin_files/jquery.js.tải xuống"></script>
<script type="text/javascript" src="./Grass Geometry Shader – Benjamin Huguenin_files/jquery-migrate.min.js.tải xuống"></script>
<script type="text/javascript" src="./Grass Geometry Shader – Benjamin Huguenin_files/bootstrap.min.js.tải xuống"></script>
<script type="text/javascript" src="./Grass Geometry Shader – Benjamin Huguenin_files/jquery.circlechart.js.tải xuống"></script>
<script type="text/javascript" src="./Grass Geometry Shader – Benjamin Huguenin_files/goalProgress.js.tải xuống"></script>
<script type="text/javascript" src="./Grass Geometry Shader – Benjamin Huguenin_files/main.js.tải xuống"></script>
<link rel="https://api.w.org/" href="http://ellenack.com/wp-json/">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://ellenack.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://ellenack.com/wp-includes/wlwmanifest.xml"> 
<link rel="prev" title="Easy Eyes : The Mask Texture" href="https://web.archive.org/web/20170825020212/http://ellenack.com/2016/10/23/easy-eyes-the-mask-texture/">
<link rel="next" title="FileBrowser 2.0" href="https://web.archive.org/web/20170825020212/http://ellenack.com/2016/11/13/filebrowser-2-0/">
<meta name="generator" content="WordPress 4.7.5">
<link rel="canonical" href="https://web.archive.org/web/20170825020212/http://ellenack.com/2016/11/05/grass-geometry-shader/">
<link rel="shortlink" href="https://web.archive.org/web/20170825020212/http://ellenack.com/?p=180">
<link rel="alternate" type="application/json+oembed" href="https://web.archive.org/web/20170825020212/http://ellenack.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fellenack.com%2F2016%2F11%2F05%2Fgrass-geometry-shader%2F">
<link rel="alternate" type="text/xml+oembed" href="https://web.archive.org/web/20170825020212/http://ellenack.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fellenack.com%2F2016%2F11%2F05%2Fgrass-geometry-shader%2F&amp;format=xml">
<link rel="author" href="http://ellenack.com/"><style type="text/css" id="custom-background-css">
body.custom-background { background-image: url("https://web.archive.org/web/20170825020212im_/http://ellenack.com/wp-content/uploads/2016/01/gradient-3.png"); background-position: left top; background-size: auto; background-repeat: repeat; background-attachment: scroll; }
</style>
<link rel="stylesheet" type="text/css" href="./Grass Geometry Shader – Benjamin Huguenin_files/shCore.css"><link rel="stylesheet" type="text/css" href="./Grass Geometry Shader – Benjamin Huguenin_files/shThemeEmacs.css"><style type="text/css" id="syntaxhighlighteranchor"></style>
<style type="text/css"> #header, #main, #topbar-inner { max-width: 1150px; } #container.one-column { } #container.two-columns-right #secondary { width:250px; float:right; } #container.two-columns-right #content { width:810px; float:left; } /*fallback*/ #container.two-columns-right #content { width:calc(100% - 280px); float:left; } #container.two-columns-left #primary { width:250px; float:left; } #container.two-columns-left #content { width:810px; float:right; } /*fallback*/ #container.two-columns-left #content { width:-moz-calc(100% - 280px); float:right; width:-webkit-calc(100% - 280px); width:calc(100% - 280px); } #container.three-columns-right .sidey { width:125px; float:left; } #container.three-columns-right #primary { margin-left:30px; margin-right:30px; } #container.three-columns-right #content { width:780px; float:left; } /*fallback*/ #container.three-columns-right #content { width:-moz-calc(100% - 310px); float:left; width:-webkit-calc(100% - 310px); width:calc(100% - 310px);} #container.three-columns-left .sidey { width:125px; float:left; } #container.three-columns-left #secondary {margin-left:30px; margin-right:30px; } #container.three-columns-left #content { width:780px; float:right;} /*fallback*/ #container.three-columns-left #content { width:-moz-calc(100% - 310px); float:right; width:-webkit-calc(100% - 310px); width:calc(100% - 310px); } #container.three-columns-sided .sidey { width:125px; float:left; } #container.three-columns-sided #secondary { float:right; } #container.three-columns-sided #content { width:780px; float:right; /*fallback*/ width:-moz-calc(100% - 310px); float:right; width:-webkit-calc(100% - 310px); float:right; width:calc(100% - 310px); float:right; margin: 0 155px 0 -1090px; } body { font-family: "Open Sans"; } #content h1.entry-title a, #content h2.entry-title a, #content h1.entry-title , #content h2.entry-title { font-family: "Bebas Neue"; } .widget-title, .widget-title a { line-height: normal; font-family: "Bebas Neue"; } .entry-content h1, .entry-content h2, .entry-content h3, .entry-content h4, .entry-content h5, .entry-content h6, #comments #reply-title, .nivo-caption h2, #front-text1 h1, #front-text2 h1, .column-header-image { font-family: "Yanone Kaffeesatz Regular"; } #site-title span a { font-family: inherit; } #access ul li a, #access ul li a span { font-family: "Open Sans"; } body { color: #D0D0D0; background-color: #222222 } a { color: #BF4D28; } a:hover,.entry-meta span a:hover, .comments-link a:hover { color: #E6AC27; } #header { background-color: #0e0e0e; } #site-title span a { color:#BF4D28; } #site-description { color:#D0d0d0; background-color: rgba(51,51,51,0.3); padding-left: 6px; } .socials a { background-color: #BF4D28; } .socials-hover { background-color: #E6AC27; } /* Main menu top level */ #access a, #nav-toggle span { color: #d0d0d0; } #access, #nav-toggle {background-color: #222222; } #access > .menu > ul > li > a > span { border-color: #040404; -moz-box-shadow: 1px 0 0 #3a3a3a; -webkit-box-shadow: 1px 0 0 #3a3a3a; box-shadow: 1px 0 0 #3a3a3a; } #access a:hover {background-color: #2f2f2f; } #access ul li.current_page_item > a, #access ul li.current-menu-item > a, #access ul li.current_page_ancestor > a, #access ul li.current-menu-ancestor > a { background-color: #2f2f2f; } /* Main menu Submenus */ #access > .menu > ul > li > ul:before {border-bottom-color:#7a321b;} #access ul ul ul:before { border-right-color:#7a321b;} #access ul ul li { background-color:#7a321b; border-top-color:#884029; border-bottom-color:#6f2710} #access ul ul li a{color:#DDDDDD} #access ul ul li a:hover{background:#884029} #access ul ul li.current_page_item > a, #access ul ul li.current-menu-item > a, #access ul ul li.current_page_ancestor > a, #access ul ul li.current-menu-ancestor > a { background-color:#884029; } #topbar { background-color: #222222;border-bottom-color:#4a4a4a; box-shadow:3px 0 3px #000000; } .topmenu ul li a, .topmenu .searchsubmit { color: #999; } .topmenu ul li a:hover, .topmenu .searchform input[type="search"] { color: #BF4D28; border-bottom-color: #BF4D28; } #main { background-color: #333333; } #author-info, #entry-author-info, .page-title { border-color: #BF4D28; background: #1f1f1f; } #entry-author-info #author-avatar, #author-info #author-avatar { border-color: #3f3f3f; } .sidey .widget-container { color: #c0c0c0; background-color: #333333; } .sidey .widget-title { color: #d0d0d0; background-color: #444444;border-color:#1c1c1c;} .sidey .widget-container a {color:#BF4D28;} .sidey .widget-container a:hover {color:#E6AC27;} .entry-content h1, .entry-content h2, .entry-content h3, .entry-content h4, .entry-content h5, .entry-content h6 { color: #BF4D28; } .sticky .entry-header {border-color:#BF4D28 } .entry-title, .entry-title a { color: #BF4D28; } .entry-title a:hover { color: #E6AC27; } #content h3.entry-format { color: #d0d0d0; background-color: #222222; } #footer { color: #C0c0c0; background-color: #0e0e0e; } #footer2 { color: #C0c0c0; background-color: #0e0e0e; } #footer a { color: #BF4D28; } #footer a:hover { color: #E6AC27; } #footer2 a, .footermenu ul li:after { color: #BF4D28; } #footer2 a:hover { color: #E6AC27; } #footer .widget-container { color: #c0c0c0; background-color: #333333; } #footer .widget-title { color: #d0d0d0; background-color: #444444;border-color:#1c1c1c } a.continue-reading-link, #cryout_ajax_more_trigger { color:#d0d0d0 !important; background:#222222; border-bottom-color:#BF4D28; } a.continue-reading-link:after { background-color:#E6AC27; } a.continue-reading-link i.icon-right-dir {color:#BF4D28} a.continue-reading-link:hover i.icon-right-dir {color:#E6AC27} .page-link a, .page-link > span > em {border-color:#2b2b2b} .columnmore a {background:#E6AC27;color:#1f1f1f} .columnmore a:hover {background:#BF4D28;} .button, #respond .form-submit input#submit, input[type=submit], input[type=reset] { background-color: #333333; border-color: #2b2b2b; box-shadow: 0 -10px 10px 0 #1f1f1f inset; } .button:hover, #respond .form-submit input#submit:hover { background-color: #1f1f1f; } .entry-content tr th, .entry-content thead th { color: #BF4D28; } .entry-content fieldset, #content tr td,#content tr th, #content thead th { border-color: #2b2b2b; } #content tr.even td { background-color: #1f1f1f !important; } hr { background-color: #2b2b2b; } input[type="text"], input[type="password"], input[type="email"], textarea, select, input[type="color"],input[type="date"],input[type="datetime"],input[type="datetime-local"],input[type="month"],input[type="number"],input[type="range"], input[type="search"],input[type="tel"],input[type="time"],input[type="url"],input[type="week"] { background-color: #1f1f1f; border-color: #2b2b2b #3f3f3f #3f3f3f #2b2b2b; color: #D0D0D0; } input[type="submit"], input[type="reset"] { color: #D0D0D0; background-color: #333333; border-color: #2b2b2b; box-shadow: 0 -10px 10px 0 #1f1f1f inset; } input[type="text"]:hover, input[type="password"]:hover, input[type="email"]:hover, textarea:hover, input[type="color"]:hover, input[type="date"]:hover, input[type="datetime"]:hover, input[type="datetime-local"]:hover, input[type="month"]:hover, input[type="number"]:hover, input[type="range"]:hover, input[type="search"]:hover, input[type="tel"]:hover, input[type="time"]:hover, input[type="url"]:hover, input[type="week"]:hover { background-color: rgba(31,31,31,0.4); } .entry-content code { border-color: #2b2b2b; border-bottom-color:#BF4D28;} .entry-content pre { border-color: #2b2b2b; background-color:#1f1f1f;} .entry-content blockquote { border-color: #3f3f3f; } abbr, acronym { border-color: #D0D0D0; } .comment-meta a { color: #D0D0D0; } #respond .form-allowed-tags { color: #EEEEEE; } .comments .reply a{ background-color: #1f1f1f; border-color: #3f3f3f; } .comments .reply a:hover { background-color: #222222;color: #BF4D28; } .entry-meta .icon-metas:before {color:#666;} .entry-meta span a, .comments-link a {color:#666;} .entry-meta span a:hover, .comments-link a:hover {color:;} .nav-next a:hover {} .nav-previous a:hover { } .pagination { border-color:#151515;} .pagination span, .pagination a { background:#1f1f1f; border-left-color:#050505; border-right-color:#2f2f2f; } .pagination a:hover { background: #272727; } #searchform input[type="text"] {color:#EEEEEE;} .caption-accented .wp-caption { background-color:rgba(191,77,40,0.8); color:#333333} .tempera-image-one .entry-content img[class*='align'],.tempera-image-one .entry-summary img[class*='align'], .tempera-image-two .entry-content img[class*='align'],.tempera-image-two .entry-summary img[class*='align'] { border-color:#BF4D28;} #content p, #content ul, #content ol, #content, #frontpage blockquote { text-align:Default ; } #content p, #content ul, #content ol, #content dl, .widget-area, .widget-area a, table, table td { font-size:14px; word-spacing:Default; letter-spacing:Default; } #content p, #content ul, #content ol, content dl, .widget-area, .widget-area a { line-height:1.7em; } #content h1.entry-title, #content h2.entry-title { font-size:34px ;} .widget-title, .widget-title a { font-size:18px ;} #content .entry-content h1 { font-size: 38px;} #content .entry-content h2 { font-size: 34px;} #content .entry-content h3 { font-size: 29px;} #content .entry-content h4 { font-size: 24px;} #content .entry-content h5 { font-size: 19px;} #content .entry-content h6 { font-size: 14px;} #site-title span a { font-size:38px ;} #access ul li a { font-size:14px ;} #access ul ul ul a {font-size:12px;} .nocomments, .nocomments2 {display:none;} #header-container > div { margin:0px 0 0 0px;} #content p, #content ul, #content ol, #content dd, #content pre, #content hr { margin-bottom: 1.0em; } #toTop {background:#333333;margin-left:1300px;} #toTop:hover .icon-back2top:before {color:#E6AC27;} #main {margin-top:0px; } #forbottom {margin-left: 30px; margin-right: 30px;} #header-widget-area { width: 50%; } #branding { height:140px; } </style> 
<style type="text/css">/* Tempera Custom CSS */</style>
<link rel="stylesheet" id="tempera-style-mobile" href="./Grass Geometry Shader – Benjamin Huguenin_files/style-mobile.css" type="text/css" media="all">	<!--[if lt IE 9]>
	<script>
	document.createElement('header');
	document.createElement('nav');
	document.createElement('section');
	document.createElement('article');
	document.createElement('aside');
	document.createElement('footer');
	</script>
	<![endif]-->
	<style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style></head>
<body class="post-template-default single single-post postid-180 single-format-standard custom-background tempera-image-one caption-dark tempera-menu-left"><div id="wm-ipp" lang="en" style="display: block; direction: ltr;" class="">
<div style="position:fixed;left:0;top:0;right:0;">
<div id="wm-ipp-inside">
  <div style="position:relative;">
    <div id="wm-logo" style="float:left;width:130px;padding-top:10px;">
      <a href="https://web.archive.org/web/" title="Wayback Machine home page"><img src="./Grass Geometry Shader – Benjamin Huguenin_files/wayback-toolbar-logo.png" alt="Wayback Machine" width="110" height="39" border="0"></a>
    </div>
    <div class="r" style="float:right;">
      <div id="wm-btns" style="text-align:right;height:25px;">
                  <div id="wm-save-snapshot-success">success</div>
          <div id="wm-save-snapshot-fail">fail</div>
          <a href="https://web.archive.org/web/20170825020212/http://ellenack.com:80/2016/11/05/grass-geometry-shader/#" onclick="__wm.saveSnapshot(&#39;http://ellenack.com:80/2016/11/05/grass-geometry-shader/&#39;, &#39;20170825020212&#39;)" title="Share via My Web Archive" id="wm-save-snapshot-open" style="display: none;">
            <span class="iconochive-web"></span>
          </a>
          <a href="https://archive.org/account/login.php" title="Sign In" id="wm-sign-in" style="display: inline-block;">
            <span class="iconochive-person"></span>
          </a>
          <span id="wm-save-snapshot-in-progress" class="iconochive-web" style="display: none;"></span>
        	<a href="http://faq.web.archive.org/" title="Get some help using the Wayback Machine" style="top:-6px;"><span class="iconochive-question" style="color:rgb(87,186,244);font-size:160%;"></span></a>
	<a id="wm-tb-close" href="https://web.archive.org/web/20170825020212/http://ellenack.com:80/2016/11/05/grass-geometry-shader/#close" onclick="__wm.h(event);return false;" style="top:-2px;" title="Close the toolbar"><span class="iconochive-remove-circle" style="color:#888888;font-size:240%;"></span></a>
      </div>
      <div id="wm-share" style="text-align:right;">
	<a href="https://web.archive.org/web/20170825020212/http://ellenack.com:80/2016/11/05/grass-geometry-shader/#" onclick="window.open(&#39;https://www.facebook.com/sharer/sharer.php?u=https://web.archive.org/web/20170825020212/http://ellenack.com:80/2016/11/05/grass-geometry-shader/&#39;, &#39;&#39;, &#39;height=400,width=600&#39;); return false;" title="Share on Facebook" style="margin-right:5px;" target="_blank"><span class="iconochive-facebook" style="color:#3b5998;font-size:160%;"></span></a>
	<a href="https://web.archive.org/web/20170825020212/http://ellenack.com:80/2016/11/05/grass-geometry-shader/#" onclick="window.open(&#39;https://twitter.com/intent/tweet?text=https://web.archive.org/web/20170825020212/http://ellenack.com:80/2016/11/05/grass-geometry-shader/&amp;via=internetarchive&#39;, &#39;&#39;, &#39;height=400,width=600&#39;); return false;" title="Share on Twitter" style="margin-right:5px;" target="_blank"><span class="iconochive-twitter" style="color:#1dcaff;font-size:160%;"></span></a>
      </div>
    </div>
    <table class="c" style="">
      <tbody>
	<tr>
	  <td class="u" colspan="2">
	    <form target="_top" method="get" action="https://web.archive.org/web/submit" name="wmtb" id="wmtb"><input type="text" name="url" id="wmtbURL" value="http://ellenack.com:80/2016/11/05/grass-geometry-shader/" onfocus="this.focus();this.select();" autocomplete="off"><input type="hidden" name="type" value="replay"><input type="hidden" name="date" value="20170825020212"><input type="submit" value="Go"></form>
	  </td>
	  <td class="n" rowspan="2" style="width:110px;">
	    <table>
	      <tbody>
		<!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
		<tr class="m">
		  <td class="b" nowrap="nowrap"><a href="https://web.archive.org/web/20170622145457/http://ellenack.com:80/2016/11/05/grass-geometry-shader/" title="22 Jun 2017"><strong>Jun</strong></a></td>
		  <td class="c" id="displayMonthEl" title="You are here: 02:02:12 Aug 25, 2017">Aug</td>
		  <td class="f" nowrap="nowrap"><a href="https://web.archive.org/web/20171007031303/http://ellenack.com:80/2016/11/05/grass-geometry-shader/" title="07 Oct 2017"><strong>Oct</strong></a></td>
		</tr>
		<!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
		<tr class="d">
		  <td class="b" nowrap="nowrap"><a href="https://web.archive.org/web/20170806115601/http://ellenack.com:80/2016/11/05/grass-geometry-shader/" title="11:56:01 Aug 06, 2017"><img src="./Grass Geometry Shader – Benjamin Huguenin_files/wm_tb_prv_on.png" alt="Previous capture" width="14" height="16" border="0"></a></td>
		  <td class="c" id="displayDayEl" style="width:34px;font-size:24px;white-space:nowrap;" title="You are here: 02:02:12 Aug 25, 2017">25</td>
		  <td class="f" nowrap="nowrap"><a href="https://web.archive.org/web/20171007031303/http://ellenack.com:80/2016/11/05/grass-geometry-shader/" title="03:13:03 Oct 07, 2017"><img src="./Grass Geometry Shader – Benjamin Huguenin_files/wm_tb_nxt_on.png" alt="Next capture" width="14" height="16" border="0"></a></td>
		</tr>
		<!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
		<tr class="y">
		  <td class="b" nowrap="nowrap">2016</td>
		  <td class="c" id="displayYearEl" title="You are here: 02:02:12 Aug 25, 2017">2017</td>
		  <td class="f" nowrap="nowrap">2018</td>
		</tr>
	      </tbody>
	    </table>
	  </td>
	</tr>
	<tr>
	  <td class="s">
	    	    <div id="wm-nav-captures"><a class="t" href="https://web.archive.org/web/*/http://ellenack.com:80/2016/11/05/grass-geometry-shader/" title="See a list of every capture for this URL">20 captures</a><div class="r" title="Timespan for captures of this URL">11 Jan 2017 - 7 Dec 2017</div></div>
	  </td>
	  <td class="k">
	    <a href="https://web.archive.org/web/19990401000000/http://ellenack.com:80/2016/11/05/grass-geometry-shader/" id="wm-graph-anchor">
	      <div id="wm-ipp-sparkline" title="Explore captures for this URL" style="position: relative">
		<canvas id="wm-sparkline-canvas" width="575" height="27" border="0"></canvas>
	      <div class="yt" style="display: none; width: 25px; height: 27px; left: 75px;"></div><div class="mt" style="display: none; width: 2px; height: 27px; left: 82px;"></div></div>
	    </a>
	  </td>
	</tr>
      </tbody>
    </table>
    <div style="position:absolute;bottom:0;right:2px;text-align:right;">
      <a id="wm-expand" class="wm-btn wm-closed" href="https://web.archive.org/web/20170825020212/http://ellenack.com:80/2016/11/05/grass-geometry-shader/#expand" onclick="__wm.ex(event);return false;"><span id="wm-expand-icon" class="iconochive-down-solid"></span> <span style="font-size:80%">About this capture</span></a>
    </div>
  </div>
    <div id="wm-capinfo" style="border-top:1px solid #777;display:none; overflow: hidden">
            <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center">COLLECTED BY</div>
    <div style="padding:3px;position:relative" id="wm-collected-by-content">
            <div style="display:inline-block;vertical-align:top;width:50%;">
			<span class="c-logo" style="background-image:url(https://archive.org/services/img/alexacrawls);"></span>
		Organization: <a style="color:#33f;" href="https://archive.org/details/alexacrawls" target="_new"><span class="wm-title">Alexa Crawls</span></a>
		<div style="max-height:75px;overflow:hidden;position:relative;">
	  <div style="position:absolute;top:0;left:0;width:100%;height:75px;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 90%,rgba(255,255,255,255) 100%);"></div>
	  Starting in 1996, <a href="http://www.alexa.com/">Alexa Internet</a> has been donating their crawl data to the Internet Archive.  Flowing in every day, these data are added to the <a href="http://web.archive.org/">Wayback Machine</a> after an embargo period.
	</div>
	      </div>
      <div style="display:inline-block;vertical-align:top;width:49%;">
			<span class="c-logo" style="background-image:url(https://archive.org/services/img/alexacrawls)"></span>
		<div>Collection: <a style="color:#33f;" href="https://archive.org/details/alexacrawls" target="_new"><span class="wm-title">Alexa Crawls</span></a></div>
		<div style="max-height:75px;overflow:hidden;position:relative;">
	  <div style="position:absolute;top:0;left:0;width:100%;height:75px;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 90%,rgba(255,255,255,255) 100%);"></div>
	  Starting in 1996, <a href="http://www.alexa.com/">Alexa Internet</a> has been donating their crawl data to the Internet Archive.  Flowing in every day, these data are added to the <a href="http://web.archive.org/">Wayback Machine</a> after an embargo period.
	</div>
	      </div>
    </div>
    <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center" title="Timestamps for the elements of this page">TIMESTAMPS</div>
    <div>
      <div id="wm-capresources" style="margin:0 5px 5px 5px;max-height:250px;overflow-y:scroll !important"></div>
      <div id="wm-capresources-loading" style="text-align:left;margin:0 20px 5px 5px;display:none"><img src="./Grass Geometry Shader – Benjamin Huguenin_files/loading.gif" alt="loading"></div>
    </div>
  </div></div></div></div><!-- BEGIN WAYBACK TOOLBAR INSERT -->
<script type="text/javascript" src="./Grass Geometry Shader – Benjamin Huguenin_files/timestamp.js.tải xuống" charset="utf-8"></script>
<script type="text/javascript" src="./Grass Geometry Shader – Benjamin Huguenin_files/graph-calc.js.tải xuống" charset="utf-8"></script>
<script type="text/javascript" src="./Grass Geometry Shader – Benjamin Huguenin_files/auto-complete.js.tải xuống" charset="utf-8"></script>
<script type="text/javascript" src="./Grass Geometry Shader – Benjamin Huguenin_files/toolbar.js.tải xuống" charset="utf-8"></script>

<style type="text/css">
body {
  margin-top:0 !important;
  padding-top:0 !important;
  /*min-width:800px !important;*/
}
.wb-autocomplete-suggestions {
    text-align: left; cursor: default; border: 1px solid #ccc; border-top: 0; background: #fff; box-shadow: -1px 1px 3px rgba(0,0,0,.1);
    position: absolute; display: none; z-index: 2147483647; max-height: 254px; overflow: hidden; overflow-y: auto; box-sizing: border-box;
}
.wb-autocomplete-suggestion { position: relative; padding: 0 .6em; line-height: 23px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-size: 1.02em; color: #333; }
.wb-autocomplete-suggestion b { font-weight: bold; }
.wb-autocomplete-suggestion.selected { background: #f0f0f0; }
</style>
<script type="text/javascript">
__wm.bt(575,27,25,2,"web","http://ellenack.com:80/2016/11/05/grass-geometry-shader/","2017-08-25",1996);
</script><div class="wb-autocomplete-suggestions " style="left: 163px; top: 1892px; width: 643px;"></div>
<!-- END WAYBACK TOOLBAR INSERT -->


<div id="wrapper" class="hfeed">
<div id="topbar"><div id="topbar-inner"> <div class="socials" id="sheader">
			<a target="_blank" href="https://web.archive.org/web/20170825020212/https://www.youtube.com/user/benji5112" class="socialicons social-YouTube" title="YouTube">
				<img alt="YouTube" src="./Grass Geometry Shader – Benjamin Huguenin_files/YouTube.png">
			<div class="socials-hover"></div></a>
			<a target="_blank" href="https://web.archive.org/web/20170825020212/https://twitter.com/Ellenack" class="socialicons social-Twitter" title="Twitter">
				<img alt="Twitter" src="./Grass Geometry Shader – Benjamin Huguenin_files/Twitter.png">
			<div class="socials-hover"></div></a>
			<a target="_blank" href="https://web.archive.org/web/20170825020212/https://www.facebook.com/HugueninBenjamin" class="socialicons social-Facebook" title="Facebook">
				<img alt="Facebook" src="./Grass Geometry Shader – Benjamin Huguenin_files/Facebook.png">
			<div class="socials-hover"></div></a></div> </div></div>
<div class="socials" id="srights">
			<a target="_blank" href="https://web.archive.org/web/20170825020212/https://www.youtube.com/user/benji5112" class="socialicons social-YouTube" title="YouTube">
				<img alt="YouTube" src="./Grass Geometry Shader – Benjamin Huguenin_files/YouTube.png">
			<div class="socials-hover"></div></a>
			<a target="_blank" href="https://web.archive.org/web/20170825020212/https://twitter.com/Ellenack" class="socialicons social-Twitter" title="Twitter">
				<img alt="Twitter" src="./Grass Geometry Shader – Benjamin Huguenin_files/Twitter.png">
			<div class="socials-hover"></div></a>
			<a target="_blank" href="https://web.archive.org/web/20170825020212/https://www.facebook.com/HugueninBenjamin" class="socialicons social-Facebook" title="Facebook">
				<img alt="Facebook" src="./Grass Geometry Shader – Benjamin Huguenin_files/Facebook.png">
			<div class="socials-hover"></div></a></div>
<div id="header-full">
	<header id="header">
		<div id="masthead">
			<div id="branding" role="banner">
				<img id="bg_image" alt="" title="" src="./Grass Geometry Shader – Benjamin Huguenin_files/Header_Orange-e1479915013935.png"><div id="header-container">
</div>						<div id="header-widget-area">
			<ul class="yoyo">
				<li id="text-8" class="widget-container widget_text">			<div class="textwidget"><iframe style="border: 0; width: 100%; height: 100%;" src="./Grass Geometry Shader – Benjamin Huguenin_files/saved_resource.html" seamless=""><a href="https://web.archive.org/web/20170825020212/http://theophany-rmx.bandcamp.com/album/times-end-ii-majoras-mask-remixed">Time&#39;s End II: Majora&#39;s Mask Remixed by Theophany</a></iframe></div>
		</li>			</ul>
		</div>
						<div style="clear:both;"></div>
			</div><!-- #branding -->
			<a id="nav-toggle"><span>&nbsp;</span></a>
			<nav id="access" role="navigation">
				<div class="skip-link screen-reader-text"><a href="https://web.archive.org/web/20170825020212/http://ellenack.com:80/2016/11/05/grass-geometry-shader/#content" title="Skip to content">Skip to content</a></div>
<div class="menu"><ul id="prime_nav" class="menu"><li id="menu-item-7" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-7"><a href="https://web.archive.org/web/20170825020212/http://ellenack.com/"><span>Home</span></a></li>
<li id="menu-item-62" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-62"><a href="https://web.archive.org/web/20170825020212/http://ellenack.com/news-articles/"><span>News &amp; Articles</span></a></li>
<li id="menu-item-9" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-9"><a href="https://web.archive.org/web/20170825020212/http://ellenack.com/about/"><span>About</span></a></li>
<li id="menu-item-18" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-18"><a href="https://web.archive.org/web/20170825020212/http://ellenack.com/resume/"><span>Resume</span></a></li>
<li id="menu-item-14" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-14"><a href="https://web.archive.org/web/20170825020212/http://ellenack.com/contact/"><span>Contact</span></a></li>
<li id="menu-item-179" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-179"><a href="https://web.archive.org/web/20170825020212/http://ellenack.com/demos/"><span>Demos</span></a></li>
<li class="menu-main-search"> 
<form role="search" method="get" class="searchform" action="https://web.archive.org/web/20170825020212/http://ellenack.com/">
	<label>
		<span class="screen-reader-text">Search for:</span>
		<input type="search" class="s" placeholder="Search" value="" name="s">
	</label>
	<button type="submit" class="searchsubmit"><span class="screen-reader-text">Search</span><i class="icon-search"></i></button>
</form>
 </li></ul></div>			</nav><!-- #access -->		
		</div><!-- #masthead -->
	</header><!-- #header -->
</div><!-- #header-full -->

<div style="clear:both;height:0;"> </div>

<div id="main">
		<div id="toTop" style="margin-left: 1150px; opacity: 1; margin-right: 1150px;"><i class="icon-back2top"></i> </div>	<div id="forbottom">
		
		<div style="clear:both;"> </div>

		
		<section id="container" class="two-columns-right">
			<div id="content" role="main">
			<div class="breadcrumbs"><a href="https://web.archive.org/web/20170825020212/http://ellenack.com/"><i class="icon-homebread"></i><span class="screen-reader-text">Home</span></a><i class="icon-angle-right"></i> <a href="https://web.archive.org/web/20170825020212/http://ellenack.com/category/uncategorized/">Uncategorized</a> <i class="icon-angle-right"></i> <span class="current">Grass Geometry Shader</span></div>			

				<div id="post-180" class="post-180 post type-post status-publish format-standard hentry category-uncategorized">
					<h1 class="entry-title">Grass Geometry Shader</h1>
										<div class="entry-meta">
						<span class="author vcard"><i class="icon-author icon-metas" title="Author "></i>
					<a class="url fn n" rel="author" href="https://web.archive.org/web/20170825020212/http://ellenack.com/author/master/" title="View all posts by Benjamin Huguenin">Benjamin Huguenin</a></span><span>
						<i class="icon-time icon-metas" title="Date"></i>
						<time class="onDate date published" datetime="2016-11-05T21:57:32+00:00">
							<a href="https://web.archive.org/web/20170825020212/http://ellenack.com/2016/11/05/grass-geometry-shader/" rel="bookmark">November 5, 2016</a>
						</time>
					</span><time class="updated" datetime="2016-11-05T23:38:39+00:00">November 5, 2016</time><span class="bl_categ"><i class="icon-folder-open icon-metas" title="Categories"></i><a href="https://web.archive.org/web/20170825020212/http://ellenack.com/category/uncategorized/" rel="tag">Uncategorized</a></span> 					</div><!-- .entry-meta -->

					<div class="entry-content">
						<p><div class="fluid-width-video-wrapper" style="padding-top: 56.2222%;"><iframe src="./Grass Geometry Shader – Benjamin Huguenin_files/T2Wo9eFw_eI.html" frameborder="0" allowfullscreen="" name="fitvid0"></iframe></div></p>
<h2>Introduction</h2>
<p>Geometry shaders are powerful shaders that allow you to create primitives like points, lines, and triangles directly on the GPU. The purpose of this article will not be to explain how to set one up, but to cover the different details of the implementation of this particular grass shader (control of the length of the strand, randomization, wind, etc…).</p>
<h2>Strand features</h2>
<p>For my shader, I decided to describe my strand of grass with three properties : length, width, and gravity. The tricky part will be to bend the strand with the gravity, by keeping the length of the strand the same. As for the width, it is the one at the bottom of the strand, which we will interpolate to zero when getting closer to the top. To construct the strand, we will also need the get a normal and a position as input of our geometry shader.</p>
<pre class="brush: cg; pad-line-numbers: true; smart-tabs: true; tab-size: 4; title: ; notranslate" title="">// Base properties
float _Length;
float _Width;
float _Gravity;

// This struct is the input data from the geometry shader.
// Simply convert the data from the vertex shader to world position
struct geomInput 
{
	float4 pos : POSITION;
	float4 nor : NORMAL;
};</pre>
<p>Then, let’s move on to our first iteration of the geometry shader. The first thing I tend to do is to retrieve the input data of the geometry shader in clean variables :</p>
<pre class="brush: cg; pad-line-numbers: true; smart-tabs: true; tab-size: 4; title: ; notranslate" title="">[maxvertexcount(80)] // Don't mind this value for now
void geom( triangle geomInput i[3], inout TriangleStream stream )
{
	// Because access the input data directly tend to make the code a mess, I usually repack everything in clean variables

	float4 P1 = i[0].pos;
	float4 P2 = i[1].pos;
	float4 P3 = i[2].pos;

	float4 N1 = i[0].nor;
	float4 N2 = i[1].nor;
	float4 N3 = i[2].nor;
}</pre>
<p>Because we retrieve triangles, we have to decide of a position and a direction of growth for our strand of grass. I simply average the positions and the normals, and decide on a tangent as a lateral direction for our strand.</p>
<pre class="brush: cg; pad-line-numbers: true; smart-tabs: true; tab-size: 4; title: ; notranslate" title="">// I compute the point at the center of the face, its normal, and choose the lateral direction of the strand of grass.

float4 P = (P1+P2+P3)/3.0f;
float4 N = (N1+N2+N3)/3.0f;
float4 T = float4(normalize((P2-P1).xyz), 0.0f);</pre>
<p>And here, we have all the necessary data to create the strand. To create the geometry, we simply have to create horizontal slices of our strand. The more slices, the better the strand will look, but the more geometry their will be. And, of course, we will have to do it twice (for the front, and for the back). You can either define the number of steps as a property, or hardcode it in the shader. I decided to hardcode it, because you have to change the maxvertexcount based on it, so no matter what you have to go and edit the shader.</p>
<pre class="brush: cg; pad-line-numbers: true; smart-tabs: true; tab-size: 4; title: ; notranslate" title="">for( int i = 0; i &lt; _Steps; i++ ) 
{
	// Retrieve the normalized time along the strand.
	// It will be used to interpolate all the data from the bottom to the top of the strand.
	// t0 is the current step of the strand we are drawing.
	// t1 is the next step to be drawn. It will be t0 at the next iteration.
	// You could store its value for optimization.

	float t0 = (float)i / _Steps;
	float t1 = (float)(i+1) / _Steps;

	// Make our normal bend down with gravity.
	// The further we are on the strand, and the longer it is, the more it bends.
	// We then normalize this new direction, and scale it by the length at the current iteration of the loop.

	float4 p0 = normalize(N - (float4(0, _Length * t0, 0, 0) * _Gravity * t0)) * (_Length * t0);
	float4 p1 = normalize(N - (float4(0, _Length * t1, 0, 0) * _Gravity * t1)) * (_Length * t1);

	// Interpolate the width, and scale the lateral direction vector with it

	float4 w0 = T * lerp(_Width, 0, t0);
	float4 w1 = T * lerp(_Width, 0, t1);</pre>
<p>And here, you have all the necessary data to construct a first sketch of the strand. p0 – w0, p0 + w0, p1 – w1 and p1 + w1 are the four points of the face you are drawing in this iteration of the loop. Simply fill the TriangleStream with the necessary data to send to the fragment shader. Computing uvs and a normal for a quick shading should be pretty easy too. Right now, you should have something similar to this :</p>
<p><img src="./Grass Geometry Shader – Benjamin Huguenin_files/Capture.png" alt="Grass_Step1" width="840" height="577" class="aligncenter size-full wp-image-241" srcset="https://web.archive.org/web/20170825020212im_/http://ellenack.com/wp-content/uploads/2016/11/Capture.png 840w, https://web.archive.org/web/20170825020212im_/http://ellenack.com/wp-content/uploads/2016/11/Capture-300x206.png 300w, https://web.archive.org/web/20170825020212im_/http://ellenack.com/wp-content/uploads/2016/11/Capture-768x528.png 768w, https://web.archive.org/web/20170825020212im_/http://ellenack.com/wp-content/uploads/2016/11/Capture-150x103.png 150w" sizes="(max-width: 840px) 100vw, 840px"></p>
<h2>Randomization</h2>
<p>There aren’t many things to randomize, but adding chaos to the length and the direction of the strands of grass is a necessary step to make it a believable grass. We will need a noise texture, and two variables to control the intensity of the effect and the direction and the length of the strands.</p>
<pre class="brush: cg; pad-line-numbers: true; smart-tabs: true; tab-size: 4; title: ; notranslate" title="">// Randomization properties
sampler2D _Noise;
sampler2D _Noise_ST;
float _DirectionIntensity;
float _LengthIntensity;</pre>
<p>Then it is really a simple matter of using the noise. However, what uv coordinates should we use ? I decided to use the world position, and to modulate it with the texture scale and offset. We could use the texture coordinate of our object, but this way, no matter how we place our objects, it will stay coherent. This will be even more important when we start adding wind.</p>
<pre class="brush: cg; pad-line-numbers: true; smart-tabs: true; tab-size: 4; title: ; notranslate" title="">// Sample textures

float3 noise = tex2Dlod(_Noise, float4(P.xz * _Noise_ST.xy + _Noise_ST.zw, 0, 0)).xyz;

// Modulate strand length

float l = _Length + noise.r * _LengthIntensity;

// Modulate grow direction

float3 noiseNormal = (noise * 2 - 1) * _DirectionIntensity; // Convert the noise sample to a vector and scale it with the intensity.
N = normalize(float4((N + noiseNormal).xyz, 0)); // Add the noise normal and normalize. Make sure the fourth component is null to avoid issues.</pre>
<p>It’s short, nothing overly complicated here, but it does the job pretty well. Right now, you should have something similar to this :</p>
<p><img src="./Grass Geometry Shader – Benjamin Huguenin_files/Capture-1.png" alt="Grass_Step2" width="839" height="566" class="aligncenter size-full wp-image-245" srcset="https://web.archive.org/web/20170825020212im_/http://ellenack.com/wp-content/uploads/2016/11/Capture-1.png 839w, https://web.archive.org/web/20170825020212im_/http://ellenack.com/wp-content/uploads/2016/11/Capture-1-300x202.png 300w, https://web.archive.org/web/20170825020212im_/http://ellenack.com/wp-content/uploads/2016/11/Capture-1-768x518.png 768w, https://web.archive.org/web/20170825020212im_/http://ellenack.com/wp-content/uploads/2016/11/Capture-1-150x101.png 150w" sizes="(max-width: 839px) 100vw, 839px"></p>
<h2>Wind</h2>
<p>The wind is one of the hardest thing to get right. Having it life-like took me some time, but I am really happy with how it turned out. The first thing you might want to do is using a sinus function over time, but it is really boring to look at. You will realize it is looping really quickly. To avoid this, I combine it with a “wind” texture. To control all this, we will need these parameters :</p>
<pre class="brush: cg; pad-line-numbers: true; smart-tabs: true; tab-size: 4; title: ; notranslate" title="">// Wind parameters
sampler2D _Wind;
float4 _Wind_ST;
float _WindFrequency;
float _WindMin;
float _WindMax;</pre>
<p>The way it’s going to work is like this : our wind texture will give us the direction of the wind. We will use the offset provided in the inspector as a speed to pan the uvs over time and make the wind move over our grass. Here is what my wind texture looks like :</p>
<p><img src="./Grass Geometry Shader – Benjamin Huguenin_files/Flow.png" alt="Grass_Flow" width="256" height="256" class="aligncenter size-full wp-image-248" srcset="https://web.archive.org/web/20170825020212im_/http://ellenack.com/wp-content/uploads/2016/11/Flow.png 256w, https://web.archive.org/web/20170825020212im_/http://ellenack.com/wp-content/uploads/2016/11/Flow-150x150.png 150w" sizes="(max-width: 256px) 100vw, 256px"></p>
<p>Then, we will make this direction oscillate between the min and max values provided at the given frequency. This way, the wind won’t feel like a constant direction applied to the geometry, but feel less predictable. Of course, you you stare at the grass long enough, you will be able to spot the pattern, but it’s not as obvious as a simple sin. Here is what we need to add to the code to make it work :</p>
<pre class="brush: cg; pad-line-numbers: true; smart-tabs: true; tab-size: 4; title: ; notranslate" title="">// Remap given value s from the first range [a1,a2] to the second range [b1,b2]
float remap(float s, float a1, float a2, float b1, float b2)
{
	return b1 + (s - a1)*(b2 - b1) / (a2 - a1);
}</pre>
<pre class="brush: cg; pad-line-numbers: true; smart-tabs: true; tab-size: 4; title: ; notranslate" title="">// Sample the texture
float3 wind = normalize(tex2Dlod(_Wind, float4(P.xz * _Wind_ST.xy + _Wind_ST.zw * _Time.w, 0, 0)).xyz); // We normalize because it needs to be only a direction. No information about intensity should be provided here.

// And here it is : we convert our wind to a vector in the [-1,1] range.
// As for the sinus, we use the time value modulated by the frequency.
// And finally, we remap it between our minimum and maximum values and use it to scale our wind normal.
float3 windNormal = (wind * 2 - 1) * remap(sin(_Time.w*_WindFrequency), -1, 1, _WindMin, _WindMax);
				
// Of course, we need to add it to our provided normal.
N = normalize(float4((N + noiseNormal + windNormal).xyz, 0));</pre>
<p>And we are done ! You should have something similar to the video above. Of course, it takes some time to find values for all this parameters. And as we use a triangle to create a strand, you will need to have a mesh with enough geometry. Or use tesselation to control the quantity of grass.</p>
<h2>Conslusion</h2>
<p>This conclude this quick “tutorial” about this grass geometry shader. If you have any question or want to point something out, don’t hesitate to contact me here in the comments, or by using the <a href="https://web.archive.org/web/20170825020212/http://ellenack.com/index.php/contact/">contact form</a>. Thanks a lot for taking the time to read me, and see you soon !</p>
											</div><!-- .entry-content -->


					<footer class="entry-meta">
						<span class="bl_bookmark"><i class="icon-bookmark icon-metas" title=" Bookmark the permalink"></i> <a href="https://web.archive.org/web/20170825020212/http://ellenack.com/2016/11/05/grass-geometry-shader/" title="Permalink to Grass Geometry Shader" rel="bookmark"> Bookmark</a>.</span>											</footer><!-- .entry-meta -->
				</div><!-- #post-## -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="https://web.archive.org/web/20170825020212/http://ellenack.com/2016/10/23/easy-eyes-the-mask-texture/" rel="prev"><i class="meta-nav-prev"></i> Easy Eyes : The Mask Texture</a></div>
					<div class="nav-next"><a href="https://web.archive.org/web/20170825020212/http://ellenack.com/2016/11/13/filebrowser-2-0/" rel="next">FileBrowser 2.0 <i class="meta-nav-next"></i></a></div>
				</div><!-- #nav-below -->

				 <div id="comments" class=""> 			<h3 id="comments-title"><i class="icon-replies"></i>
				2 Comments:			</h3>
	<ol class="commentlist">
			<li class="comment even thread-even depth-1" id="li-comment-6">
		<div id="comment-6">
		<div class="comment-author vcard">
			<div class="avatar-container"><img alt="" src="./Grass Geometry Shader – Benjamin Huguenin_files/b217e2a04110f3db01b8a7c453c08901.png" srcset="https://web.archive.org/web/20170825020212im_/http://2.gravatar.com/avatar/b217e2a04110f3db01b8a7c453c08901?s=120&amp;d=mm&amp;r=g 2x" class="avatar avatar-60 photo" height="60" width="60"></div>			<div class="comment-details">
				<cite class="fn">Jarvis</cite> 				<div class="comment-meta commentmetadata">
					<a href="https://web.archive.org/web/20170825020212/http://ellenack.com/2016/11/05/grass-geometry-shader/#comment-6">
					November 5, 2016 at 11:12 pm</a>				</div><!-- .comment-meta .commentmetadata -->
			</div> <!-- .comment-details -->
		</div><!-- .comment-author .vcard -->

		

		<div class="comment-body"><p>Nice! Thought the tutorial was well written. Think I will try my own implementation tomorrow. How do you shade the grass in Unity? I haven’t use Unity in a while, but at that time you couldn’t use a geometry shader with the renderer.</p>
			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://web.archive.org/web/20170825020212/http://ellenack.com/2016/11/05/grass-geometry-shader/?replytocom=6#respond" onclick="return addComment.moveForm( &quot;comment-6&quot;, &quot;6&quot;, &quot;respond&quot;, &quot;180&quot; )" aria-label="Reply to Jarvis"><i class="icon-reply"></i>Reply</a>			</div><!-- .reply -->
		</div>

	</div><!-- #comment-##  -->

	<ul class="children">
	<li class="comment byuser comment-author-master bypostauthor odd alt depth-2" id="li-comment-7">
		<div id="comment-7">
		<div class="comment-author vcard">
			<div class="avatar-container"><img alt="" src="./Grass Geometry Shader – Benjamin Huguenin_files/b148584247957dabdfec3ba20a0b4928.png" srcset="https://web.archive.org/web/20170825020212im_/http://2.gravatar.com/avatar/b148584247957dabdfec3ba20a0b4928?s=120&amp;d=mm&amp;r=g 2x" class="avatar avatar-60 photo" height="60" width="60"></div>			<div class="comment-details">
				<cite class="fn"><a href="https://web.archive.org/web/20170825020212/http://ellenack.com/" rel="external nofollow" class="url">Benjamin Huguenin</a></cite> 				<div class="comment-meta commentmetadata">
					<a href="https://web.archive.org/web/20170825020212/http://ellenack.com/2016/11/05/grass-geometry-shader/#comment-7">
					November 5, 2016 at 11:32 pm</a>				</div><!-- .comment-meta .commentmetadata -->
			</div> <!-- .comment-details -->
		</div><!-- .comment-author .vcard -->

		

		<div class="comment-body"><p>Yeah, you still can’t feed the standard shader model when using a geometry shader (or at least, it’s not possible without calling all the functions yourself). Right now, I compute the normal of each point as a cross product of the tangent vector “T” and the growth vector “p0” or “p1” of the current point, and simply use a lambert shading in the fragment shader because it does the trick. A more advanced shading method is possible (adding specular, or moving to PBR), but I didn’t think it would be worth it as grass is already detailed enough as it is. Using at least the data of the lightmaps to shade the grass when lighting is baked would be interesting though.</p>
			<div class="reply">
				<a rel="nofollow" class="comment-reply-link" href="https://web.archive.org/web/20170825020212/http://ellenack.com/2016/11/05/grass-geometry-shader/?replytocom=7#respond" onclick="return addComment.moveForm( &quot;comment-7&quot;, &quot;7&quot;, &quot;respond&quot;, &quot;180&quot; )" aria-label="Reply to Benjamin Huguenin"><i class="icon-reply"></i>Reply</a>			</div><!-- .reply -->
		</div>

	</div><!-- #comment-##  -->

	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	</ol>
	

	<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="https://web.archive.org/web/20170825020212/http://ellenack.com:80/2016/11/05/grass-geometry-shader/#respond" style="display:none;">Cancel reply</a></small></h3>			<form action="https://web.archive.org/web/20170825020212/http://ellenack.com/wp-comments-post.php" method="post" id="commentform" class="comment-form">
				<p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p><p class="comment-form-comment"><label for="comment">Comment</label><textarea placeholder="Comment" id="comment" name="comment" cols="45" rows="8" aria-required="true"></textarea></p><p class="comment-form-author"><label for="author">Name<span class="required">*</span></label> <input id="author" placeholder="Name" name="author" type="text" value="" size="30" aria-required="true"></p>
<p class="comment-form-email"><label for="email">Email<span class="required">*</span></label> <input id="email" placeholder="Email" name="email" type="text" value="" size="30" aria-required="true"></p>
<p class="comment-form-url"><label for="url">Website</label><input id="url" placeholder="Website" name="url" type="text" value="" size="30"></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment"> <input type="hidden" name="comment_post_ID" value="180" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p>			</form>
			</div><!-- #respond -->
	</div><!-- #comments -->


						</div><!-- #content -->
			<div id="secondary" class="widget-area sidey" role="complementary">
		
			<ul class="xoxo">
										<li id="recent-posts-5" class="widget-container widget_recent_entries">		<h3 class="widget-title">Recent Posts</h3>		<ul>
					<li>
				<a href="https://web.archive.org/web/20170825020212/http://ellenack.com/2016/11/13/filebrowser-2-0/">FileBrowser 2.0</a>
						</li>
					<li>
				<a href="https://web.archive.org/web/20170825020212/http://ellenack.com/2016/11/05/grass-geometry-shader/">Grass Geometry Shader</a>
						</li>
					<li>
				<a href="https://web.archive.org/web/20170825020212/http://ellenack.com/2016/10/23/easy-eyes-the-mask-texture/">Easy Eyes : The Mask Texture</a>
						</li>
					<li>
				<a href="https://web.archive.org/web/20170825020212/http://ellenack.com/2016/10/22/easy-eyes-out-soon/">Easy Eyes Out !</a>
						</li>
					<li>
				<a href="https://web.archive.org/web/20170825020212/http://ellenack.com/2016/07/30/my-team-orbital-shark/">My team : Orbital Shark</a>
						</li>
				</ul>
		</li>		<li id="meta-13" class="widget-container widget_meta"><h3 class="widget-title">Meta</h3>			<ul>
						<li><a href="https://web.archive.org/web/20170825020212/http://ellenack.com/wp-login.php">Log in</a></li>
			<li><a href="https://web.archive.org/web/20170825020212/http://ellenack.com/feed/">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="https://web.archive.org/web/20170825020212/http://ellenack.com/comments/feed/">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="https://web.archive.org/web/20170825020212/https://wordpress.org/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">WordPress.org</a></li>			</ul>
			</li>			</ul>

			
		</div>
		</section><!-- #container -->

	<div style="clear:both;"></div>
	</div> <!-- #forbottom -->


	<footer id="footer" role="contentinfo">
		<div id="colophon">
		
			
			
		</div><!-- #colophon -->

		<div id="footer2">
		
			<div id="site-copyright">Copyright © 2016 <b><a href="https://web.archive.org/web/20170825020212/http://ellenack.com/">Benjamin Huguenin</a></b></div><div class="socials" id="sfooter">
			<a target="_blank" href="https://web.archive.org/web/20170825020212/https://www.youtube.com/user/benji5112" class="socialicons social-YouTube" title="YouTube">
				<img alt="YouTube" src="./Grass Geometry Shader – Benjamin Huguenin_files/YouTube.png">
			<div class="socials-hover"></div></a>
			<a target="_blank" href="https://web.archive.org/web/20170825020212/https://twitter.com/Ellenack" class="socialicons social-Twitter" title="Twitter">
				<img alt="Twitter" src="./Grass Geometry Shader – Benjamin Huguenin_files/Twitter.png">
			<div class="socials-hover"></div></a>
			<a target="_blank" href="https://web.archive.org/web/20170825020212/https://www.facebook.com/HugueninBenjamin" class="socialicons social-Facebook" title="Facebook">
				<img alt="Facebook" src="./Grass Geometry Shader – Benjamin Huguenin_files/Facebook.png">
			<div class="socials-hover"></div></a></div>	<span style="display:block;float:right;text-align:right;padding:5px 20px 5px;text-transform:uppercase;font-size:11px;">
	Powered by <a target="_blank" href="https://web.archive.org/web/20170825020212/http://www.cryoutcreations.eu/" title="Tempera Theme by Cryout Creations">Tempera</a> &amp; <a target="_blank" href="https://web.archive.org/web/20170825020212/http://wordpress.org/" title="Semantic Personal Publishing Platform">  WordPress.		</a>
	</span><!-- #site-info -->
				
		</div><!-- #footer2 -->

	</footer><!-- #footer -->

	</div><!-- #main -->
</div><!-- #wrapper -->


<!-- analytics-counter google analytics tracking code --><script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//web.archive.org/web/20170825020212/http://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-86203604-1', 'auto');

    ga('set', 'anonymizeIp', true);    ga('send', 'pageview');

</script><!--  -->			<script type="text/javascript">function showhide_toggle(a,b,d,f){var e=jQuery("#"+a+"-link-"+b),c=jQuery("a",e),g=jQuery("#"+a+"-content-"+b);a=jQuery("#"+a+"-toggle-"+b);e.toggleClass("sh-show sh-hide");g.toggleClass("sh-show sh-hide").toggle();"true"===c.attr("aria-expanded")?c.attr("aria-expanded","false"):c.attr("aria-expanded","true");a.text()===d?a.text(f):a.text(d)};</script>
	<script type="text/javascript" src="./Grass Geometry Shader – Benjamin Huguenin_files/shCore.js.tải xuống"></script>
<script type="text/javascript" src="./Grass Geometry Shader – Benjamin Huguenin_files/shBrushCg.js.tải xuống"></script>
<script type="text/javascript">
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "https://web.archive.org/web/20170825020212/http://ellenack.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "https://web.archive.org/web/20170825020212/http://ellenack.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeEmacs.css?ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();
</script>
<script type="text/javascript">
/* <![CDATA[ */
var tempera_settings = {"mobile":"1","fitvids":"1"};
/* ]]> */
</script>
<script type="text/javascript" src="./Grass Geometry Shader – Benjamin Huguenin_files/frontend.js.tải xuống"></script>
<script type="text/javascript" src="./Grass Geometry Shader – Benjamin Huguenin_files/comment-reply.min.js.tải xuống"></script>
<script type="text/javascript" src="./Grass Geometry Shader – Benjamin Huguenin_files/wp-embed.min.js.tải xuống"></script>
<script type="text/javascript">var cryout_global_content_width = 900;var cryout_toTop_offset = 1150;</script>


<!--
     FILE ARCHIVED ON 02:02:12 Aug 25, 2017 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 14:52:45 Jul 20, 2018.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  LoadShardBlock: 255.547 (3)
  esindex: 0.014
  captures_list: 313.137
  CDXLines.iter: 13.776 (3)
  PetaboxLoader3.datanode: 45.787 (5)
  exclusion.robots.fetch: 36.932 (4)
  exclusion.robots: 37.822
  exclusion.robots.policy: 0.447
  RedisCDXSource: 1.737
  PetaboxLoader3.resolve: 142.863
  load_resource: 190.243 (2)
--></body></html>